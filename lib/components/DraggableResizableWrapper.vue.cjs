"use strict";const i=require("vue"),x=require("../utils/interact-helper.cjs"),_=i.defineComponent({__name:"DraggableResizableWrapper",props:{draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},useCssTransforms:{type:Boolean,default:!0},dragOptions:{default:()=>({})},resizeOptions:{default:()=>({})},initialX:{default:0},initialY:{default:0},initialWidth:{default:200},initialHeight:{default:150},watchDeep:{type:Boolean,default:!1},watchImmediate:{type:Boolean,default:!1}},emits:["dragStart","dragMove","dragEnd","resizeStart","resizeMove","resizeEnd"],setup(S,{expose:k,emit:E}){const t=S,o=E,l=i.ref(),s=i.ref(t.initialX),n=i.ref(t.initialY),c=i.ref(t.initialWidth),d=i.ref(t.initialHeight),f=i.ref(!1),z=i.ref(!1),b=i.ref({});let r=null,p=null,h=null,m=null;const u=[],O=i.computed(()=>({x:s.value,y:n.value,width:c.value,height:d.value,isDragging:f.value,isResizing:z.value,activeEdges:b.value})),P=()=>({onDrag:e=>{switch(s.value=e.left,n.value=e.top,f.value=e.type==="dragstart"?!0:e.type==="dragend"?!1:f.value,e.type){case"dragstart":o("dragStart",e);break;case"dragmove":o("dragMove",e);break;case"dragend":o("dragEnd",e);break}},onResize:e=>{switch(c.value=e.width,d.value=e.height,s.value=e.left,n.value=e.top,z.value=e.type==="resizestart"?!0:e.type==="resizeend"?!1:z.value,b.value=e.edges||{},e.type){case"resizestart":o("resizeStart",e);break;case"resizemove":o("resizeMove",e);break;case"resizeend":o("resizeEnd",e);break}}}),R=i.computed(()=>({draggable:t.draggable,resizable:t.resizable,useCssTransforms:t.useCssTransforms,dragOptions:t.dragOptions,resizeOptions:t.resizeOptions,x:t.initialX,y:t.initialY,width:t.initialWidth,height:t.initialHeight})),y=()=>{if(!l.value)return;l.value.setAttribute("data-x",t.initialX.toString()),l.value.setAttribute("data-y",t.initialY.toString()),l.value.setAttribute("data-width",t.initialWidth.toString()),l.value.setAttribute("data-height",t.initialHeight.toString());const e=P(),a=x.makeElementDraggableResizable(l.value,R.value,e);r=a.cleanup,p=a.updatePositionAndSize,h=a.updatePosition,m=a.updateSize};u.push(i.watch([()=>t.draggable,()=>t.resizable,()=>t.dragOptions,()=>t.resizeOptions],()=>{r&&(r(),r=null),y()},{deep:t.watchDeep,immediate:t.watchImmediate})),u.push(i.watch([()=>t.initialX,()=>t.initialY,()=>t.initialWidth,()=>t.initialHeight],([e,a,g,v])=>{p&&(p(e,a,g,v),s.value=e,n.value=a,c.value=g,d.value=v)})),i.onMounted(()=>{y()});const A=(e,a,g,v)=>{p&&(p(e,a,g,v),s.value=e,n.value=a,c.value=g,d.value=v)},B=(e,a)=>{h&&(h(e,a),s.value=e,n.value=a)},D=(e,a)=>{m&&(m(e,a),c.value=e,d.value=a)};return i.onUnmounted(()=>{r&&(r(),r=null),u!=null&&u.length&&(u.forEach(e=>e()),u.length=0),p=null,h=null,m=null}),k({elementRef:l,x:s,y:n,width:c,height:d,isDragging:f,isResizing:z,activeEdges:b,updatePositionAndSize:A,updatePosition:B,updateSize:D}),(e,a)=>(i.openBlock(),i.createElementBlock("div",{ref_key:"elementRef",ref:l,class:"draggable-resizable-wrapper"},[i.renderSlot(e.$slots,"default",i.normalizeProps(i.guardReactiveProps(O.value)))],512))}});module.exports=_;
//# sourceMappingURL=DraggableResizableWrapper.vue.cjs.map

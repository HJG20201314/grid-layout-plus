{"version":3,"file":"dom.mjs","sources":["../../src/helpers/dom.ts"],"sourcesContent":["// 文档方向管理工具：在无 document 环境（SSR）下回退到内存变量，在浏览器环境读写 <html dir> 属性\r\nlet currentDir: 'ltr' | 'rtl' | 'auto' = 'auto' // 记录最近设置的方向，用于无 document 场景回退\r\n\r\n/**\r\n * 检查是否存在全局 document（区分浏览器与 SSR 环境）。\r\n * @returns 是否可访问 document 对象\r\n */\r\nfunction hasDocument() {\r\n  return typeof document !== 'undefined'\r\n}\r\n\r\n/**\r\n * 获取当前文档的书写方向。\r\n * 优先读取 document.dir，其次读取 <html> 标签 dir 属性；在 SSR 时返回内存中的 currentDir。\r\n * @returns 'ltr' | 'rtl' | 'auto'\r\n */\r\nexport function getDocumentDir() {\r\n  if (!hasDocument()) {\r\n    return currentDir\r\n  }\r\n  const direction =\r\n    typeof document.dir !== 'undefined'\r\n      ? document.dir\r\n      : document.getElementsByTagName('html')[0].getAttribute('dir')\r\n  return direction\r\n}\r\n\r\n/**\r\n * 设置文档书写方向。\r\n * 在浏览器环境直接修改 <html> 标签的 dir 属性；在 SSR 环境仅更新内存变量以便后续使用。\r\n * @param dir 期望的方向值\r\n */\r\nexport function setDocumentDir(dir: 'ltr' | 'rtl' | 'auto') {\r\n  if (!hasDocument()) {\r\n    currentDir = dir\r\n    return\r\n  }\r\n\r\n  const html = document.getElementsByTagName('html')[0]\r\n  html.setAttribute('dir', dir)\r\n}\r\n"],"names":["currentDir","hasDocument","getDocumentDir"],"mappings":"AACA,IAAIA,IAAqC;AAMzC,SAASC,IAAc;AACrB,SAAO,OAAO,WAAa;AAC7B;AAOO,SAASC,IAAiB;AAC3B,SAACD,MAIH,OAAO,SAAS,MAAQ,MACpB,SAAS,MACT,SAAS,qBAAqB,MAAM,EAAE,CAAC,EAAE,aAAa,KAAK,IALxDD;AAOX;"}